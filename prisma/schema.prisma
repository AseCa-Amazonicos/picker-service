datasource db {
    url      = env("DATABASE_URL")
    provider = "postgresql"
}

generator client {
    provider = "prisma-client-js"
}

model Order {
    id        Int         @id
    updatedAt DateTime    @updatedAt
    status    OrderStatus
    items     Item[]
}

enum OrderStatus {
    NOT_STARTED
    PREPARING
    READY_TO_SHIP
}

model Item {
    id       Int    @id @default(autoincrement())
    name     String
    price    Float
    quantity Int
    orderId  Int
    order    Order  @relation(fields: [orderId], references: [id])
}

model Stock {
    id          Int       @id @default(autoincrement())
    name        String
    quantity    Int
    warehouse   Warehouse @relation(fields: [warehouseId], references: [id])
    warehouseId Int
}

model Warehouse {
    id     Int     @id @default(autoincrement())
    name   String
    stocks Stock[]
}
